Standard binary search problem until you have to find the start and end of the target value.
Use two while loops to iterate down for the start and to iterate up for the end.